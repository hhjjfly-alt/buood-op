# Target Architecture
CONFIG_TARGET_x86=y
CONFIG_TARGET_x86_64=y
CONFIG_TARGET_x86_64_Generic=y

# Partition Sizes
CONFIG_TARGET_KERNEL_PARTSIZE=64
CONFIG_TARGET_ROOTFS_PARTSIZE=920

# Luci Core
CONFIG_package_luci=y
CONFIG_package_luci-base=y
CONFIG_package_luci-lib-ip=y
CONFIG_package_luci-lib-nixio=y
CONFIG_package_luci-lib-jsonc=y
CONFIG_package_luci-lib-fs=y

# Network Essentials
CONFIG_package_dnsmasq-full=y
CONFIG_package_dnsmasq-full_dhcpv6=y
CONFIG_package_iptables=y
CONFIG_package_iptables-mod-extra=y
CONFIG_package_luci-app-firewall=y

# Core Features
CONFIG_package_luci-app-passwall=y
CONFIG_package_luci-app-adguardhome=y
CONFIG_package_luci-app-smartdns=y
CONFIG_package_luci-app-dockerman=y
CONFIG_package_luci-app-vlmcsd=y
CONFIG_package_luci-app-lucky=y

# Docker Stack
CONFIG_package_dockerd=y
CONFIG_package_docker-ce=y
CONFIG_package_docker-compose=y
CONFIG_package_cgroupfs-mount=y
CONFIG_package_fuse3-utils=y
CONFIG_package_kmod-fs-btrfs=y
CONFIG_package_kmod-dax=y
CONFIG_package_kmod-nf-conntrack-netlink=y

# IPv6 Support
CONFIG_package_kmod-ipv6=y
CONFIG_package_kmod-ipt-nat6=y
CONFIG_package_odhcp6c=y
CONFIG_package_odhcpd-ipv6only=y
CONFIG_package_radvd=y
CONFIG_package_ip6tables=y
CONFIG_package_ip6tables-mod-nat=y

# Filesystems
CONFIG_package_kmod-fs-ext4=y
CONFIG_package_kmod-fs-vfat=y
CONFIG_package_kmod-fs-ksmbd=y  # Ksmbd

# Utilities
CONFIG_package_tailscale=y
CONFIG_package_zerotier=y
CONFIG_package_luci-app-opkg=y
CONFIG_package_luci-app-upnp=y
CONFIG_package_luci-app-wol=y

# Language Packs
CONFIG_package_luci-i18n-passwall-zh-cn=y
CONFIG_package_luci-i18n-adguardhome-zh-cn=y
CONFIG_package_luci-i18n-smartdns-zh-cn=y
CONFIG_package_luci-i18n-dockerman-zh-cn=y

# Kernel Config
CONFIG_KERNEL_CGROUP=y
CONFIG_KERNEL_CGROUPS=y
CONFIG_KERNEL_EXT4_FS_POSIX_ACL=y
CONFIG_KERNEL_IPV6_MULTIPLE_TABLES=y
CONFIG_KERNEL_IPV6_SUBTREES=y
CONFIG_KERNEL_KSMBD_SMB_SERVER=y
CONFIG_KERNEL_NLS_UTF8=y

# qBittorrent and Dependencies
CONFIG_package_qbittorrent=y
CONFIG_package_luci-app-qbittorrent=y
CONFIG_package_luci-i18n-qbittorrent-zh-cn=y
CONFIG_package_libtorrent-rasterbar=y
CONFIG_package_boost=y
CONFIG_package_boost-libs=y
CONFIG_package_openssl=y

# Ksmbd Addons
CONFIG_package_ksmbd-tools=y
CONFIG_package_luci-app-ksmbd=y
CONFIG_package_luci-i18n-ksmbd-zh-cn=y

# Banned Packages
CONFIG_package_luci-app-bypass=n
CONFIG_package_luci-app-ssr-plus=n

# Image Configuration
CONFIG_TARGET_IMAGES_GZIP=y
CONFIG_EFI_IMAGES=y
CONFIG_TARGET_IMAGES_INITRAMFS=n  # 新增：禁用 initramfs 镜像，节省空间
# Disable unnecessary image types
# CONFIG_TARGET_IMAGES_PAD is not set
# CONFIG_VMDK_IMAGES is not set
# CONFIG_TARGET_ROOTFS_TARGZ is not set
# CONFIG_GRUB_IMAGES is not set

# Disk Management
CONFIG_package_luci-app-diskman=y
CONFIG_package_luci-i18n-diskman-zh-cn=y
